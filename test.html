<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
    .c {text-align: center;}
  </style>
</head>
<body>

<div class="c">
  <canvas id="c" style="border: 1px solid #ccc" width="600" height="600"></canvas>
</div>

<script>
function rand(m, n) {
  return Math.floor(Math.random() * (n - m + 1) + m)
}

function randColor() {
  const o = {
    r: rand(0, 255),
    g: rand(0, 255),
    b: rand(0, 255),
  }

  return 'rgba(' + o.r + ',' + o.g + ',' + o.b + ', 1)'
}

function d2a(deg) {
  return deg / 180 * Math.PI
}

function a2d(angle) {
  return angle / Math.PI * 180
}

const c = document.getElementById('c')
const gd = c.getContext('2d')
const len = 10
const r = 20

c.width = 
c.height = len * r * 4

gd.save()
gd.translate(c.width / 2, c.height / 2)
;new Array(len).fill().map((_, idx) => idx * 6 || 1).forEach((len, idx, arr) => {
  for (let i = 0; i < len; i++) {
    gd.save()
    gd.rotate(d2a((i / len) * 360))
    gd.translate(idx * r * 2, 0)
    gd.beginPath()
    gd.arc(0, 0, r, 0, 2 * Math.PI)
    gd.fillStyle = randColor()
    gd.fill()

    gd.beginPath()
    gd.font = '14px Arial'
    gd.fillStyle = '#fff'
    gd.textAlign = 'center'
    gd.textBaseline = 'middle'
    gd.fillText(i + 1, 0, 0)
    gd.restore()
  }
})
gd.restore()
</script>

</body>
</html>